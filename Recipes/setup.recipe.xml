<?xml version="1.0"?>
<Orchard>
  <Recipe>
    <Name>CSM.ParkingData.Recipes.Setup</Name>
    <Description>Setup recipe for the City of Santa Monica Parking Data API Orchard site.</Description>
    <Author>City of Santa Monica</Author>
    <WebSite>http://api.smgov.net/parking</WebSite>
    <Version>1.0</Version>
    <IsSetupRecipe>true</IsSetupRecipe>
  </Recipe>

  <Feature disable="Orchard.Layouts,Orchard.Comments,Orchard.Blogs"
           enable="Orchard.Autoroute,Orchard.CodeGeneration,Orchard.ContentTypes,
                   Orchard.ImportExport,PackagingServices,Orchard.Packaging,
                   Orchard.jQuery,Orchard.Projections,
                   Orchard.Scripting,Orchard.Scripting.Lightweight,Orchard.Scripting.CSharp,
                   Orchard.OutputCache,Orchard.Widgets,
                   TinyMce,
                   CSM.WebApi.Documentation,CSM.WebApi.Security,CSM.ParkingData,CSM.BootstrapBase,CSM.ParkingData.Theme" />

  <Metadata>
    <Parts>
      <BodyPart BodyPartSettings.FlavorDefault="html" />
    </Parts>

    <Types>
      <Page ContentTypeSettings.Draftable="True">
        <AutoroutePart AutorouteSettings.AllowCustomPattern="True"
                       AutorouteSettings.AutomaticAdjustmentOnEdit="False"
                       AutorouteSettings.PatternDefinitions="[{&quot;Name&quot;:&quot;Title&quot;,&quot;Pattern&quot;:&quot;{Content.Slug}&quot;,&quot;Description&quot;:&quot;my-page&quot;}]"
                       AutorouteSettings.DefaultPatternIndex="0"
                       AutorouteSettings.PerItemConfiguration="False" />
        
        <CommonPart DateEditorSettings.ShowDateEditor="False"
                    OwnerEditorSettings.ShowOwnerEditor="False" />
        <BodyPart />
      </Page>
    </Types>
  </Metadata>

  <Migration features="*" />

  <Settings>
    <SiteSettingsPart PageTitleSeparator=" - " SiteName="Parking Data API" SiteCulture="en-US" SiteCalendar="" PageSize="10" MaxPageSize="0" MaxPagedCount="0" SiteTimeZone="Pacific Standard Time" BaseUrl="https://api.smgov.net/parking" />
    <RegistrationSettingsPart UsersCanRegister="false" UsersMustValidateEmail="false" UsersAreModerated="false" NotifyModeration="false" EnableLostPassword="false" />
    <ThemeSiteSettingsPart CurrentThemeName="CSM.ParkingData.Theme" />
  </Settings>

  <Command>
    layer create Default /LayerRule:"true" /Description:"The widgets in this layer are displayed on all pages"
    recipes execute CSM.ParkingData CSM.ParkingData.Recipes.Data.Users
    recipes execute CSM.ParkingData CSM.ParkingData.Recipes.Data.Navigation
    recipes execute CSM.ParkingData CSM.ParkingData.Recipes.Data.Pages
  </Command>
</Orchard>
